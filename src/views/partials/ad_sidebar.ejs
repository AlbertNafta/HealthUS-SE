<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Ubuntu&display=swap"
  rel="stylesheet">

<!-- Boostrap script -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- CSS stylesheets -->
<link rel="stylesheet" href="../../../public/css/admin.css">
<link rel="stylesheet" href="../../../public/css/crud.css">
<!--Main Navigation-->
<header>
  <!-- Sidebar -->
  <nav id="sidebarMenu" class="collapse d-lg-block sidebar collapse bg-white">
    <div class="position-sticky">
      <div class="list-group list-group-flush mx-3 mt-4">
        <a href="/admin" class="list-group-item list-group-item-action py-2 ripple" aria-current="true">
          <i class="fas fa-chart-line fa-fw me-3"></i><span>Overview</span>
        </a>
        <a href="/admin/hospital" class="list-group-item list-group-item-action py-2 ripple"><i
            class="fas fa-hospital fa-fw me-3"></i><span>Hospital</span></a>
        <a href="/admin/account" class="list-group-item list-group-item-action py-2 ripple ">
          <i class="fas fa-users fa-fw me-3"></i><span>Account</span>
        </a>
        <a href="/admin/appointment" class="list-group-item list-group-item-action py-2 ripple"><i
            class="fas fa-clipboard-list fa-fw me-3"></i><span>Appointment</span></a>
        <a href="/admin/feedback" class="list-group-item list-group-item-action py-2 ripple"><i
            class="fas fa-comment fa-fw me-3"></i><span>Feedback</span></a>
        <a href="/admin/news" class="list-group-item list-group-item-action py-2 ripple">
          <i class="fas fa-newspaper fa-fw me-3"></i><span>News</span>
        </a>
        <a href="/admin/contract" class="list-group-item list-group-item-action py-2 ripple">
          <i class="fas fa-handshake fa-fw me-3"></i><span>Contract</span>
        </a>
        <a href="#" class="list-group-item list-group-item-action py-2 ripple"><i
            class="fas fa-gear fa-fw me-3"></i><span>Settings</span></a>
      </div>
    </div>
  </nav>
  <!-- Sidebar -->

  <!-- Navbar -->
  <nav id="main-navbar" class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
    <!-- Container wrapper -->
    <div class="container-fluid">
      <!-- Toggle button -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu"
        aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
      </button>

      <!-- Brand -->
      <a class="navbar-brand">
        <img src="../../../public/images/Logo-header.png" class="img-fluid-admin" alt="Logo header" loading="lazy" />
      </a>
      <!-- Search form -->
      <!-- <form class="d-none d-md-flex input-group w-auto my-auto">
              <input
                    autocomplete="off"
                    type="search"
                    class="form-control rounded"
                    placeholder='Search (accounts, hospitals,...)'
                    style="min-width: 225px"
                    />
              <span class="input-group-text border-0"
                    ><i class="fas fa-search"></i
                ></span>
            </form> -->

      <!-- Right links -->
      <ul class="navbar-nav ms-auto d-flex flex-row">
        <li class="nav-item dropdown">
          <a class="nav-link me-3 me-lg-0 dropdown-toggle hidden-arrow" href="#" id="navbarDropdownMenuLink"
            role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-bell"></i>
            <span class="badge rounded-pill badge-notification bg-danger">1</span>
          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="#">Some news</a></li>
            <li><a class="dropdown-item" href="#">Another news</a></li>
            <li>
              <a class="dropdown-item" href="#">Something else here</a>
            </li>
          </ul>
        </li>
        <!-- Avatar -->
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center" href="#"
            id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <ul class="list-group-flush">
              <li>
                <h6 class="list-group-item-avatar" id="admin_name">
                  <% if (locals.username !== null) { %>
                    <%= locals.username %>
                  <% } else { %>
                    Admin
                  <% } %>
                </h6>
              </li>
              <li class="list-group-item"><span class="badge bg-primary" style="margin-right: 0.25rem;">Admin</span></li>
            </ul>
            <img src="../../../public/images/admin_ava.jpeg" class="rounded-circle" height="40" alt="avatar header"
              loading="lazy" />

          </a>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
            <li><a class="dropdown-item" href="#">My profile</a></li>
            <li><a class="dropdown-item" href="/logout">Logout</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
</header>
<!--Main Navigation-->
<!--Main layout-->
<main style="margin-top: 58px">
  <div class="container pt-4">

  </div>
</main>
<!--Main layout-->

<!-- <script>
  document.addEventListener('DOMContentLoaded', async () => {
    if (localStorage.getItem('username') == null) {
      function getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length === 2) return parts.pop().split(';').shift();
      }

      const sessionID = getCookie('sessionID');
      let username = '';

      try {
        const res1 = await fetch('/getUsn', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${sessionID}`
          }
        });

        const data1 = await res1.json();
        username = data1.session.user.username;
        console.log('username: ', username);

        const admin_name = document.getElementById('admin_name');
        if (username) {
          localStorage.setItem('username', username);
          console.log('username: ', username);
          admin_name.innerText = username;
        }
      } catch (error) {
        console.error('Fetch error:', error);
      }
    } else {
      const admin_name = document.getElementById('admin_name');
      admin_name.innerText = localStorage.getItem('username');
    }
  });

</script> -->

<script type="text/javascript" src="../public/js/side_bar.js"></script>